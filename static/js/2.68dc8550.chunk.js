(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[2],{1046:function(e,r,t){"use strict";t.r(r);function n(e,r,t,n){return new(t||(t=Promise))((function(o,i){function u(e){try{s(n.next(e))}catch(r){i(r)}}function a(e){try{s(n.throw(e))}catch(r){i(r)}}function s(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(u,a)}s((n=n.apply(e,r||[])).next())}))}function o(e,r){var t,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=r.call(e,u)}catch(a){i=[6,a],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}Object.create;Object.create;var i=function(){function e(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return e.prototype.acquire=function(){var e=this,r=this.isLocked(),t=new Promise((function(r){return e._queue.push(r)}));return r||this._dispatch(),t},e.prototype.runExclusive=function(e){return n(this,void 0,void 0,(function(){var r,t,n;return o(this,(function(o){switch(o.label){case 0:return[4,this.acquire()];case 1:r=o.sent(),t=r[0],n=r[1],o.label=2;case 2:return o.trys.push([2,,4,5]),[4,e(t)];case 3:return[2,o.sent()];case 4:return n(),[7];case 5:return[2]}}))}))},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},e.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var t=!1;this._currentReleaser=function(){t||(t=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},e}(),u=function(){function e(){this._semaphore=new i(1)}return e.prototype.acquire=function(){return n(this,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=r.sent(),[2,e[1]]}}))}))},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive((function(){return e()}))},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();function a(e,r,t){var i=this;return void 0===t&&(t=new Error("timeout")),{acquire:function(){return new Promise((function(u,a){return n(i,void 0,void 0,(function(){var n,i;return o(this,(function(o){switch(o.label){case 0:return n=!1,setTimeout((function(){n=!0,a(t)}),r),[4,e.acquire()];case 1:return i=o.sent(),n?(Array.isArray(i)?i[1]:i)():u(i),[2]}}))}))}))},runExclusive:function(e){return n(this,void 0,void 0,(function(){var r,t;return o(this,(function(n){switch(n.label){case 0:r=function(){},n.label=1;case 1:return n.trys.push([1,,7,8]),[4,this.acquire()];case 2:return t=n.sent(),Array.isArray(t)?(r=t[1],[4,e(t[0])]):[3,4];case 3:return[2,n.sent()];case 4:return r=t,[4,e()];case 5:return[2,n.sent()];case 6:return[3,8];case 7:return r(),[7];case 8:return[2]}}))}))},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}t.d(r,"Mutex",(function(){return u})),t.d(r,"Semaphore",(function(){return i})),t.d(r,"withTimeout",(function(){return a}))},111:function(e,r,t){var n=t(153);function o(r,t,i){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=o=Reflect.get:e.exports=o=function(e,r,t){var o=n(e,r);if(o){var i=Object.getOwnPropertyDescriptor(o,r);return i.get?i.get.call(t):i.value}},o(r,t,i||r)}e.exports=o},136:function(e,r){e.exports=function(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}},137:function(e,r){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},138:function(e,r){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},153:function(e,r,t){var n=t(22);e.exports=function(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=n(e)););return e}},155:function(e,r){function t(e){return e.sort((function(e,r){return"latest"===e||"earliest"===r?1:"latest"===r||"earliest"===e?-1:n(e)-n(r)}))}function n(e){return void 0===e||null===e?e:Number.parseInt(e,16)}function o(e){if(void 0===e||null===e)return e;var r=e.toString(16);return r.length%2&&(r="0"+r),"0x"+r}function i(){return Math.floor(16*Math.random()).toString(16)}e.exports={minBlockRef:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t(r)[0]},maxBlockRef:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=t(r);return o[o.length-1]},sortBlockRefs:t,bnToHex:function(e){return"0x"+e.toString(16)},blockRefIsNumber:function(e){return e&&!["earliest","latest","pending"].includes(e)},hexToInt:n,incrementHexInt:function(e){return void 0===e||null===e?e:o(n(e)+1)},intToHex:o,unsafeRandomBytes:function(e){for(var r="0x",t=0;t<e;t++)r+=i(),r+=i();return r}}},187:function(e,r){e.exports=function(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}},188:function(e,r){e.exports=a,a.default=a,a.stable=f,a.stableStringify=f;var t="[...]",n="[Circular]",o=[],i=[];function u(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(e,r,a,c){var f;"undefined"===typeof c&&(c=u()),function e(r,o,i,u,a,c,f){var l;if(c+=1,"object"===typeof r&&null!==r){for(l=0;l<u.length;l++)if(u[l]===r)return void s(n,r,o,a);if("undefined"!==typeof f.depthLimit&&c>f.depthLimit)return void s(t,r,o,a);if("undefined"!==typeof f.edgesLimit&&i+1>f.edgesLimit)return void s(t,r,o,a);if(u.push(r),Array.isArray(r))for(l=0;l<r.length;l++)e(r[l],l,l,u,r,c,f);else{var p=Object.keys(r);for(l=0;l<p.length;l++){var d=p[l];e(r[d],d,l,u,r,c,f)}}u.pop()}}(e,"",0,[],void 0,0,c);try{f=0===i.length?JSON.stringify(e,r,a):JSON.stringify(e,l(r),a)}catch(d){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==o.length;){var p=o.pop();4===p.length?Object.defineProperty(p[0],p[1],p[3]):p[0][p[1]]=p[2]}}return f}function s(e,r,t,n){var u=Object.getOwnPropertyDescriptor(n,t);void 0!==u.get?u.configurable?(Object.defineProperty(n,t,{value:e}),o.push([n,t,r,u])):i.push([r,t,e]):(n[t]=e,o.push([n,t,r]))}function c(e,r){return e<r?-1:e>r?1:0}function f(e,r,a,f){"undefined"===typeof f&&(f=u());var p,d=function e(r,i,u,a,f,l,p){var d;if(l+=1,"object"===typeof r&&null!==r){for(d=0;d<a.length;d++)if(a[d]===r)return void s(n,r,i,f);try{if("function"===typeof r.toJSON)return}catch(y){return}if("undefined"!==typeof p.depthLimit&&l>p.depthLimit)return void s(t,r,i,f);if("undefined"!==typeof p.edgesLimit&&u+1>p.edgesLimit)return void s(t,r,i,f);if(a.push(r),Array.isArray(r))for(d=0;d<r.length;d++)e(r[d],d,d,a,r,l,p);else{var h={},v=Object.keys(r).sort(c);for(d=0;d<v.length;d++){var m=v[d];e(r[m],m,d,a,r,l,p),h[m]=r[m]}if("undefined"===typeof f)return h;o.push([f,i,r]),f[i]=h}a.pop()}}(e,"",0,[],void 0,0,f)||e;try{p=0===i.length?JSON.stringify(d,r,a):JSON.stringify(d,l(r),a)}catch(v){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==o.length;){var h=o.pop();4===h.length?Object.defineProperty(h[0],h[1],h[3]):h[0][h[1]]=h[2]}}return p}function l(e){return e="undefined"!==typeof e?e:function(e,r){return r},function(r,t){if(i.length>0)for(var n=0;n<i.length;n++){var o=i[n];if(o[1]===r&&o[0]===t){t=o[2],i.splice(n,1);break}}return e.call(this,r,t)}}},190:function(e,r,t){"use strict";var n=t(26),o=t(27),i=t(29),u=t(22),a=t(30);function s(e,r,t){try{Reflect.apply(e,r,t)}catch(n){setTimeout((function(){throw n}))}}function c(e){for(var r=e.length,t=new Array(r),n=0;n<r;n+=1)t[n]=e[n];return t}Object.defineProperty(r,"__esModule",{value:!0});var f=function(e){function r(){return n(this,r),i(this,u(r).apply(this,arguments))}return a(r,e),o(r,[{key:"emit",value:function(e){var r="error"===e,t=this._events;if(void 0!==t)r=r&&void 0===t.error;else if(!r)return!1;for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];if(r){var u;if(o.length>0&&(u=o[0]),u instanceof Error)throw u;var a=new Error("Unhandled error.".concat(u?" (".concat(u.message,")"):""));throw a.context=u,a}var f=t[e];if(void 0===f)return!1;if("function"===typeof f)s(f,this,o);else for(var l=f.length,p=c(f),d=0;d<l;d+=1)s(p[d],this,o);return!0}}]),r}(t(54).EventEmitter);r.default=f},258:function(e,r){e.exports=function(e){if(Array.isArray(e))return e}},259:function(e,r){e.exports=function(e,r){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var t=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(t.push(u.value),!r||t.length!==r);n=!0);}catch(s){o=!0,i=s}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return t}}},260:function(e,r){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},274:function(e,r,t){"use strict";var n=t(26),o=t(27),i=t(29),u=t(22),a=t(30),s=t(32);Object.defineProperty(r,"__esModule",{value:!0}),r.EthereumProviderError=r.EthereumRpcError=void 0;var c=t(188),f=function(e){function r(e,t,o){var a;if(n(this,r),!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!==typeof t)throw new Error('"message" must be a nonempty string.');return(a=i(this,u(r).call(this,t))).code=e,void 0!==o&&(a.data=o),a}return a(r,e),o(r,[{key:"serialize",value:function(){var e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}},{key:"toString",value:function(){return c.default(this.serialize(),p,2)}}]),r}(s(Error));r.EthereumRpcError=f;var l=function(e){function r(e,t,o){if(n(this,r),!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');return i(this,u(r).call(this,e,t,o))}return a(r,e),r}(f);function p(e,r){if("[Circular]"!==r)return r}r.EthereumProviderError=l},275:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.errorValues=r.errorCodes=void 0,r.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},r.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},276:function(e,r,t){var n=t(1),o=t(57),i=t(26),u=t(27),a=t(29),s=t(22),c=t(30),f=function(e){"use strict";function r(){var e;return i(this,r),(e=a(this,s(r).call(this))).updates=[],e}return c(r,e),u(r,[{key:"initialize",value:function(){var e=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("BaseFilter - no update method specified");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addResults",value:function(e){var r=this;this.updates=this.updates.concat(e),e.forEach((function(e){return r.emit("update",e)}))}},{key:"addInitialResults",value:function(e){}},{key:"getChangesAndClear",value:function(){var e=this.updates;return this.updates=[],e}}]),r}(t(190).default);e.exports=f},277:function(e,r,t){var n=t(1),o=t(57);function i(){return(i=o(n.mark((function e(r){var t,o,i,c,f,l,p;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,o=r.fromBlock,i=r.toBlock,o||(o=i),c=u(o),f=u(i),l=Array(f-c+1).fill().map((function(e,r){return c+r})).map(a),e.next=8,Promise.all(l.map((function(e){return s(t,"eth_getBlockByNumber",[e,!1])})));case 8:return p=e.sent,e.abrupt("return",p);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return void 0===e||null===e?e:Number.parseInt(e,16)}function a(e){return void 0===e||null===e?e:"0x"+e.toString(16)}function s(e,r,t){return new Promise((function(n,o){e.sendAsync({id:1,jsonrpc:"2.0",method:r,params:t},(function(e,r){if(e)return o(e);n(r.result)}))}))}e.exports=function(e){return i.apply(this,arguments)}},469:function(e,r,t){var n=t(82),o=t(54),i="object"===typeof Reflect?Reflect:null,u=i&&"function"===typeof i.apply?i.apply:function(e,r,t){return Function.prototype.apply.call(e,r,t)};function a(){o.call(this)}function s(e,r,t){try{u(e,r,t)}catch(n){setTimeout((function(){throw n}))}}function c(e,r){for(var t=new Array(r),n=0;n<r;++n)t[n]=e[n];return t}e.exports=a,n.inherits(a,o),a.prototype.emit=function(e){for(var r=[],t=1;t<arguments.length;t++)r.push(arguments[t]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var i;if(r.length>0&&(i=r[0]),i instanceof Error)throw i;var u=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw u.context=i,u}var a=o[e];if(void 0===a)return!1;if("function"===typeof a)s(a,this,r);else{var f=a.length,l=c(a,f);for(t=0;t<f;++t)s(l[t],this,r)}return!0}},471:function(e,r,t){var n=t(1),o=t(57),i=t(1046).Mutex,u=t(472).createAsyncMiddleware,a=t(476),s=t(976),c=t(979),f=t(980),l=t(155),p=l.intToHex,d=l.hexToInt;function h(e){return v(o(n.mark((function r(){var t,o,i=arguments;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.apply(void 0,i);case 2:return t=r.sent,o=p(t.id),r.abrupt("return",o);case 5:case"end":return r.stop()}}),r)}))))}function v(e){return u(function(){var r=o(n.mark((function r(t,o){var i;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.apply(null,t.params);case 2:i=r.sent,o.result=i;case 4:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())}function m(e,r){var t=[];for(var n in e)t.push(e[n]);return t}e.exports=function(e){var r=e.blockTracker,t=e.provider,u=0,l={},y=new i,b=function(e){var r=e.mutex;return function(e){return function(){var t=o(n.mark((function t(o,i,u,a){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.acquire();case 2:(0,t.sent)(),e(o,i,u,a);case 5:case"end":return t.stop()}}),t)})));return function(e,r,n,o){return t.apply(this,arguments)}}()}}({mutex:y}),w=a({eth_newFilter:b(h(x)),eth_newBlockFilter:b(h(E)),eth_newPendingTransactionFilter:b(h(_)),eth_uninstallFilter:b(v(A)),eth_getFilterChanges:b(v(P)),eth_getFilterLogs:b(v(C))}),g=function(){var e=o(n.mark((function e(r){var t,i,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.oldBlock,i=r.newBlock,0!==l.length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,y.acquire();case 5:return u=e.sent,e.prev=6,e.next=9,Promise.all(m(l).map(function(){var e=o(n.mark((function e(r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.update({oldBlock:t,newBlock:i});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(r){return e.apply(this,arguments)}}()));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.error(e.t0);case 14:u();case 15:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(r){return e.apply(this,arguments)}}();return w.newLogFilter=x,w.newBlockFilter=E,w.newPendingTransactionFilter=_,w.uninstallFilter=A,w.getFilterChanges=P,w.getFilterLogs=C,w.destroy=function(){!function(){q.apply(this,arguments)}()},w;function x(e){return k.apply(this,arguments)}function k(){return(k=o(n.mark((function e(r){var o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new s({provider:t,params:r}),e.next=3,I(o);case 3:return e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return R.apply(this,arguments)}function R(){return(R=o(n.mark((function e(){var r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new c({provider:t}),e.next=3,I(r);case 3:return e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return O.apply(this,arguments)}function O(){return(O=o(n.mark((function e(){var r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new f({provider:t}),e.next=3,I(r);case 3:return e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return j.apply(this,arguments)}function j(){return(j=o(n.mark((function e(r){var t,o,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d(r),o=l[t]){e.next=4;break}throw new Error('No filter for index "'.concat(t,'"'));case 4:return i=o.getChangesAndClear(),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return S.apply(this,arguments)}function S(){return(S=o(n.mark((function e(r){var t,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d(r),o=l[t]){e.next=4;break}throw new Error('No filter for index "'.concat(t,'"'));case 4:return"log"===o.type?results=o.getAllResults():results=[],e.abrupt("return",results);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return M.apply(this,arguments)}function M(){return(M=o(n.mark((function e(r){var t,o,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d(r),o=l[t],!(i=Boolean(o))){e.next=6;break}return e.next=6,N(t);case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return B.apply(this,arguments)}function B(){return(B=o(n.mark((function e(t){var o,i,a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=m(l).length,e.next=3,r.getLatestBlock();case 3:return i=e.sent,e.next=6,t.initialize({currentBlock:i});case 6:return u++,l[u]=t,t.id=u,t.idHex=p(u),a=m(l).length,L({prevFilterCount:o,newFilterCount:a}),e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return F.apply(this,arguments)}function F(){return(F=o(n.mark((function e(r){var t,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=m(l).length,delete l[r],o=m(l).length,L({prevFilterCount:t,newFilterCount:o});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=o(n.mark((function e(){var r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=m(l).length,l={},L({prevFilterCount:r,newFilterCount:0});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){var t=e.prevFilterCount,n=e.newFilterCount;0===t&&n>0?r.on("sync",g):t>0&&0===n&&r.removeListener("sync",g)}}},472:function(e,r,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,r,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){void 0===n&&(n=t),e[n]=r[t]}),o=this&&this.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||n(r,e,t)};Object.defineProperty(r,"__esModule",{value:!0}),o(t(969),r),o(t(970),r),o(t(971),r),o(t(473),r),o(t(474),r),o(t(974),r)},473:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getUniqueId=void 0;var n=4294967295,o=Math.floor(Math.random()*n);r.getUniqueId=function(){return o=(o+1)%n}},474:function(e,r,t){"use strict";var n=t(1),o=t(79),i=t(57),u=t(26),a=t(27),s=t(29),c=t(22),f=t(30),l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcEngine=void 0;var p=l(t(190)),d=t(972),h=function(e){function r(){var e;return u(this,r),(e=s(this,c(r).call(this)))._middleware=[],e}return f(r,e),a(r,[{key:"push",value:function(e){this._middleware.push(e)}},{key:"handle",value:function(e,r){if(r&&"function"!==typeof r)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}},{key:"asMiddleware",value:function(){var e=this;return function(){var t=i(n.mark((function t(u,a,s,c){var f,l,p,d,h;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r._runAllMiddleware(u,a,e._middleware);case 3:if(f=t.sent,l=o(f,3),p=l[0],d=l[1],h=l[2],!d){t.next=12;break}return t.next=11,r._runReturnHandlers(h);case 11:return t.abrupt("return",c(p));case 12:return t.abrupt("return",s(function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r._runReturnHandlers(h);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",t(e.t0));case 8:return e.abrupt("return",t());case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(r){return e.apply(this,arguments)}}()));case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",c(t.t0));case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,r,n,o){return t.apply(this,arguments)}}()}},{key:"_handleBatch",value:function(){var e=i(n.mark((function e(r,t){var o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(r.map(this._promiseHandle.bind(this)));case 3:if(o=e.sent,!t){e.next=6;break}return e.abrupt("return",t(null,o));case 6:return e.abrupt("return",o);case 9:if(e.prev=9,e.t0=e.catch(0),!t){e.next=13;break}return e.abrupt("return",t(e.t0));case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(r,t){return e.apply(this,arguments)}}()},{key:"_promiseHandle",value:function(e){var r=this;return new Promise((function(t){r._handle(e,(function(e,r){t(r)}))}))}},{key:"_handle",value:function(){var e=i(n.mark((function e(r,t){var o,i,u,a,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&!Array.isArray(r)&&"object"===typeof r){e.next=3;break}return o=new d.EthereumRpcError(d.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: ".concat(typeof r),{request:r}),e.abrupt("return",t(o,{id:void 0,jsonrpc:"2.0",error:o}));case 3:if("string"===typeof r.method){e.next=6;break}return i=new d.EthereumRpcError(d.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: ".concat(typeof r.method),{request:r}),e.abrupt("return",t(i,{id:r.id,jsonrpc:"2.0",error:i}));case 6:return u=Object.assign({},r),a={id:u.id,jsonrpc:u.jsonrpc},s=null,e.prev=9,e.next=12,this._processRequest(u,a);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),s=e.t0;case 17:return s&&(delete a.result,a.error||(a.error=d.serializeError(s))),e.abrupt("return",t(s,a));case 19:case"end":return e.stop()}}),e,this,[[9,14]])})));return function(r,t){return e.apply(this,arguments)}}()},{key:"_processRequest",value:function(){var e=i(n.mark((function e(t,i){var u,a,s,c,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._runAllMiddleware(t,i,this._middleware);case 2:return u=e.sent,a=o(u,3),s=a[0],c=a[1],f=a[2],r._checkForCompletion(t,i,c),e.next=10,r._runReturnHandlers(f);case 10:if(!s){e.next=12;break}throw s;case 12:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}()}],[{key:"_runAllMiddleware",value:function(){var e=i(n.mark((function e(t,i,u){var a,s,c,f,l,p,d,h,v,m,y;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],s=null,c=!1,f=!0,l=!1,p=void 0,e.prev=6,d=u[Symbol.iterator]();case 8:if(f=(h=d.next()).done){e.next=21;break}return v=h.value,e.next=12,r._runMiddleware(t,i,v,a);case 12:if(m=e.sent,y=o(m,2),s=y[0],!(c=y[1])){e.next=18;break}return e.abrupt("break",21);case 18:f=!0,e.next=8;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(6),l=!0,p=e.t0;case 27:e.prev=27,e.prev=28,f||null==d.return||d.return();case 30:if(e.prev=30,!l){e.next=33;break}throw p;case 33:return e.finish(30);case 34:return e.finish(27);case 35:return e.abrupt("return",[s,c,a.reverse()]);case 36:case"end":return e.stop()}}),e,null,[[6,23,27,35],[28,,30,34]])})));return function(r,t,n){return e.apply(this,arguments)}}()},{key:"_runMiddleware",value:function(e,r,t,n){return new Promise((function(o){var i=function(e){var t=e||r.error;t&&(r.error=d.serializeError(t)),o([t,!0])};try{t(e,r,(function(t){r.error?i(r.error):(t&&("function"!==typeof t&&i(new d.EthereumRpcError(d.errorCodes.rpc.internal,'JsonRpcEngine: "next" return handlers must be functions. '+'Received "'.concat(typeof t,'" for request:\n').concat(v(e)),{request:e})),n.push(t)),o([null,!1]))}),i)}catch(u){i(u)}}))}},{key:"_runReturnHandlers",value:function(){var e=i(n.mark((function e(r){var t,o,i,u,a,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,o=!1,i=void 0,e.prev=3,u=n.mark((function e(){var r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.value,e.next=3,new Promise((function(e,t){r((function(r){return r?t(r):e()}))}));case 3:case"end":return e.stop()}}),e)})),a=r[Symbol.iterator]();case 6:if(t=(s=a.next()).done){e.next=11;break}return e.delegateYield(u(),"t0",8);case 8:t=!0,e.next=6;break;case 11:e.next=17;break;case 13:e.prev=13,e.t1=e.catch(3),o=!0,i=e.t1;case 17:e.prev=17,e.prev=18,t||null==a.return||a.return();case 20:if(e.prev=20,!o){e.next=23;break}throw i;case 23:return e.finish(20);case 24:return e.finish(17);case 25:case"end":return e.stop()}}),e,null,[[3,13,17,25],[18,,20,24]])})));return function(r){return e.apply(this,arguments)}}()},{key:"_checkForCompletion",value:function(e,r,t){if(!("result"in r)&&!("error"in r))throw new d.EthereumRpcError(d.errorCodes.rpc.internal,"JsonRpcEngine: Response has no error or result for request:\n".concat(v(e)),{request:e});if(!t)throw new d.EthereumRpcError(d.errorCodes.rpc.internal,"JsonRpcEngine: Nothing ended request:\n".concat(v(e)),{request:e})}}]),r}(p.default);function v(e){return JSON.stringify(e,null,2)}r.JsonRpcEngine=h},475:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.serializeError=r.isValidCode=r.getMessageFromCode=r.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var n=t(275),o=t(274),i=n.errorCodes.rpc.internal,u="Unspecified error message. This is a bug, please report it.",a={code:i,message:s(i)};function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;if(Number.isInteger(e)){var o=e.toString();if(p(n.errorValues,o))return n.errorValues[o].message;if(f(e))return r.JSON_RPC_SERVER_ERROR_MESSAGE}return t}function c(e){if(!Number.isInteger(e))return!1;var r=e.toString();return!!n.errorValues[r]||!!f(e)}function f(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"===typeof e&&!Array.isArray(e)?Object.assign({},e):e}function p(e,r){return Object.prototype.hasOwnProperty.call(e,r)}r.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",r.getMessageFromCode=s,r.isValidCode=c,r.serializeError=function(e){var r,t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.fallbackError,u=void 0===i?a:i,f=n.shouldIncludeStack,d=void 0!==f&&f;if(!u||!Number.isInteger(u.code)||"string"!==typeof u.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof o.EthereumRpcError)return e.serialize();var h={};if(e&&"object"===typeof e&&!Array.isArray(e)&&p(e,"code")&&c(e.code)){var v=e;h.code=v.code,v.message&&"string"===typeof v.message?(h.message=v.message,p(v,"data")&&(h.data=v.data)):(h.message=s(h.code),h.data={originalError:l(e)})}else{h.code=u.code;var m=null===(r=e)||void 0===r?void 0:r.message;h.message=m&&"string"===typeof m?m:u.message,h.data={originalError:l(e)}}var y=null===(t=e)||void 0===t?void 0:t.stack;return d&&e&&y&&"string"===typeof y&&(h.stack=y),h}},476:function(e,r,t){e.exports=t(975)},477:function(e,r,t){var n=t(1),o=t(57),i=t(190).default,u=t(476),a=t(472).createAsyncMiddleware,s=t(471),c=t(155),f=c.unsafeRandomBytes,l=c.incrementHexInt,p=t(277);function d(e){return{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}e.exports=function(e){var r=e.blockTracker,t=e.provider,c={},h=s({blockTracker:r,provider:t}),v=!1,m=new i,y=u({eth_subscribe:a((function(e,r){return b.apply(this,arguments)})),eth_unsubscribe:a((function(e,r){return w.apply(this,arguments)}))});return y.destroy=function(){for(var e in m.removeAllListeners(),c)c[e].destroy(),delete c[e];v=!0},{events:m,middleware:y};function b(){return(b=o(n.mark((function e(i,u){var a,s,m,y,b,w,x;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x=function(e){var r=e.subId,t=e.filter;return t.on("update",(function(e){return g(r,e)})),{type:a,destroy:function(){var e=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.uninstallFilter(t.idHex);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},w=function(e){var i=e.subId,u={type:a,destroy:function(){var e=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.removeListener("sync",u.update);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=o(n.mark((function e(r){var o,u,a,s,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.oldBlock,u=r.newBlock,a=u,s=l(o),e.next=5,p({provider:t,fromBlock:s,toBlock:a});case 5:c=e.sent,c.map(d).forEach((function(e){g(i,e)}));case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()};return r.on("sync",u.update),u},!v){e.next=4;break}throw new Error("SubscriptionManager - attempting to use after destroying");case 4:a=i.params[0],s=f(16),e.t0=a,e.next="newHeads"===e.t0?9:"logs"===e.t0?11:17;break;case 9:return m=w({subId:s}),e.abrupt("break",18);case 11:return y=i.params[1],e.next=14,h.newLogFilter(y);case 14:return b=e.sent,m=x({subId:s,filter:b}),e.abrupt("break",18);case 17:throw new Error('SubscriptionManager - unsupported subscription type "'.concat(a,'"'));case 18:return c[s]=m,u.result=s,e.abrupt("return");case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=o(n.mark((function e(r,t){var o,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}throw new Error("SubscriptionManager - attempting to use after destroying");case 2:if(o=r.params[0],i=c[o]){e.next=7;break}return t.result=!1,e.abrupt("return");case 7:return delete c[o],e.next=10,i.destroy();case 10:t.result=!0;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,r){m.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:r}})}}},79:function(e,r,t){var n=t(258),o=t(259),i=t(260);e.exports=function(e,r){return n(e)||o(e,r)||i()}},81:function(e,r,t){var n=t(136),o=t(137),i=t(138);e.exports=function(e){return n(e)||o(e)||i()}},969:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createIdRemapMiddleware=void 0;var n=t(473);r.createIdRemapMiddleware=function(){return function(e,r,t,o){var i=e.id,u=n.getUniqueId();e.id=u,r.id=u,t((function(t){e.id=i,r.id=i,t()}))}}},970:function(e,r,t){"use strict";var n=t(1),o=t(57);Object.defineProperty(r,"__esModule",{value:!0}),r.createAsyncMiddleware=void 0,r.createAsyncMiddleware=function(e){return function(){var r=o(n.mark((function r(t,i,u,a){var s,c,f,l,p;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=new Promise((function(e){s=e})),f=null,l=!1,p=function(){var e=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,u((function(e){f=e,s()})),e.next=4,c;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.prev=4,r.next=7,e(t,i,p);case 7:if(!l){r.next=13;break}return r.next=10,c;case 10:f(null),r.next=14;break;case 13:a(null);case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(4),f?f(r.t0):a(r.t0);case 19:case"end":return r.stop()}}),r,null,[[4,16]])})));return function(e,t,n,o){return r.apply(this,arguments)}}()}},971:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createScaffoldMiddleware=void 0,r.createScaffoldMiddleware=function(e){return function(r,t,n,o){var i=e[r.method];return void 0===i?n():"function"===typeof i?i(r,t,n,o):(t.result=i,o())}}},972:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getMessageFromCode=r.serializeError=r.EthereumProviderError=r.EthereumRpcError=r.ethErrors=r.errorCodes=void 0;var n=t(274);Object.defineProperty(r,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(r,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});var o=t(475);Object.defineProperty(r,"serializeError",{enumerable:!0,get:function(){return o.serializeError}}),Object.defineProperty(r,"getMessageFromCode",{enumerable:!0,get:function(){return o.getMessageFromCode}});var i=t(973);Object.defineProperty(r,"ethErrors",{enumerable:!0,get:function(){return i.ethErrors}});var u=t(275);Object.defineProperty(r,"errorCodes",{enumerable:!0,get:function(){return u.errorCodes}})},973:function(e,r,t){"use strict";var n=t(79);Object.defineProperty(r,"__esModule",{value:!0}),r.ethErrors=void 0;var o=t(274),i=t(475),u=t(275);function a(e,r){var t=c(r),u=n(t,2),a=u[0],s=u[1];return new o.EthereumRpcError(e,a||i.getMessageFromCode(e),s)}function s(e,r){var t=c(r),u=n(t,2),a=u[0],s=u[1];return new o.EthereumProviderError(e,a||i.getMessageFromCode(e),s)}function c(e){if(e){if("string"===typeof e)return[e];if("object"===typeof e&&!Array.isArray(e)){var r=e.message,t=e.data;if(r&&"string"!==typeof r)throw new Error("Must specify string message.");return[r||void 0,t]}}return[]}r.ethErrors={rpc:{parse:function(e){return a(u.errorCodes.rpc.parse,e)},invalidRequest:function(e){return a(u.errorCodes.rpc.invalidRequest,e)},invalidParams:function(e){return a(u.errorCodes.rpc.invalidParams,e)},methodNotFound:function(e){return a(u.errorCodes.rpc.methodNotFound,e)},internal:function(e){return a(u.errorCodes.rpc.internal,e)},server:function(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");var r=e.code;if(!Number.isInteger(r)||r>-32005||r<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(r,e)},invalidInput:function(e){return a(u.errorCodes.rpc.invalidInput,e)},resourceNotFound:function(e){return a(u.errorCodes.rpc.resourceNotFound,e)},resourceUnavailable:function(e){return a(u.errorCodes.rpc.resourceUnavailable,e)},transactionRejected:function(e){return a(u.errorCodes.rpc.transactionRejected,e)},methodNotSupported:function(e){return a(u.errorCodes.rpc.methodNotSupported,e)},limitExceeded:function(e){return a(u.errorCodes.rpc.limitExceeded,e)}},provider:{userRejectedRequest:function(e){return s(u.errorCodes.provider.userRejectedRequest,e)},unauthorized:function(e){return s(u.errorCodes.provider.unauthorized,e)},unsupportedMethod:function(e){return s(u.errorCodes.provider.unsupportedMethod,e)},disconnected:function(e){return s(u.errorCodes.provider.disconnected,e)},chainDisconnected:function(e){return s(u.errorCodes.provider.chainDisconnected,e)},custom:function(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");var r=e.code,t=e.message,n=e.data;if(!t||"string"!==typeof t)throw new Error('"message" must be a nonempty string');return new o.EthereumProviderError(r,t,n)}}}},974:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeMiddleware=void 0;var n=t(474);r.mergeMiddleware=function(e){var r=new n.JsonRpcEngine;return e.forEach((function(e){return r.push(e)})),r.asMiddleware()}},975:function(e,r){e.exports=function(e){return function(r,t,n,o){var i=e[r.method];return void 0===i?n():"function"===typeof i?i(r,t,n,o):(t.result=i,o())}}},976:function(e,r,t){var n=t(1),o=t(57),i=t(26),u=t(27),a=t(29),s=t(22),c=t(30),f=t(173),l=t(977),p=t(978),d=t(155),h=(d.bnToHex,d.hexToInt),v=d.incrementHexInt,m=d.minBlockRef,y=d.blockRefIsNumber,b=function(e){"use strict";function r(e){var t,n=e.provider,o=e.params;return i(this,r),(t=a(this,s(r).call(this))).type="log",t.ethQuery=new f(n),t.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},o),t.params.address&&(Array.isArray(t.params.address)||(t.params.address=[t.params.address]),t.params.address=t.params.address.map((function(e){return e.toLowerCase()}))),t}return c(r,e),u(r,[{key:"initialize",value:function(){var e=o(n.mark((function e(r){var t,o,i,u,a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.currentBlock,o=this.params.fromBlock,["latest","pending"].includes(o)&&(o=t),"earliest"===o&&(o="0x0"),this.params.fromBlock=o,i=m(this.params.toBlock,t),u=Object.assign({},this.params,{toBlock:i}),e.next=9,this._fetchLogs(u);case 9:a=e.sent,this.addInitialResults(a);case 11:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=o(n.mark((function e(r){var t,o,i,u,a,s,c,f=this;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.oldBlock,o=r.newBlock,i=o,u=t?v(t):o,a=Object.assign({},this.params,{fromBlock:u,toBlock:i}),e.next=6,this._fetchLogs(a);case 6:s=e.sent,c=s.filter((function(e){return f.matchLog(e)})),this.addResults(c);case 9:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"_fetchLogs",value:function(){var e=o(n.mark((function e(r){var t,o=this;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l((function(e){return o.ethQuery.getLogs(r,e)}))();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"matchLog",value:function(e){if(h(this.params.fromBlock)>=h(e.blockNumber))return!1;if(y(this.params.toBlock)&&h(this.params.toBlock)<=h(e.blockNumber))return!1;var r=e.address&&e.address.toLowerCase();return!(this.params.address&&r&&!this.params.address.includes(r))&&this.params.topics.every((function(r,t){var n=e.topics[t];if(!n)return!1;n=n.toLowerCase();var o=Array.isArray(r)?r:[r];return!!o.includes(null)||(o=o.map((function(e){return e.toLowerCase()}))).includes(n)}))}}]),r}(p);e.exports=b},977:function(e,r,t){"use strict";var n=t(187);function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var i=function(e,r,t,n){return function(){for(var o=this,i=arguments.length,u=new Array(i),a=0;a<i;a++)u[a]=arguments[a];var s=r.promiseModule;return new s((function(i,a){r.multiArgs?u.push((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.errorFirst?t[0]?a(t):(t.shift(),i(t)):i(t)})):r.errorFirst?u.push((function(e,r){e?a(e):i(r)})):u.push(i);var s=o===t?n:o;Reflect.apply(e,s,u)}))}},u=new WeakMap;e.exports=function(e,r){r=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(t,!0).forEach((function(r){n(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},r);var t=typeof e;if(null===e||"object"!==t&&"function"!==t)throw new TypeError("Expected `input` to be a `Function` or `Object`, got `".concat(null===e?"null":t,"`"));var a=new WeakMap,s=new Proxy(e,{apply:function(e,t,n){var o=a.get(e);if(o)return Reflect.apply(o,t,n);var u=r.excludeMain?e:i(e,r,s,e);return a.set(e,u),Reflect.apply(u,t,n)},get:function(e,t){var n=e[t];if(!function(e,t){var n=u.get(e);if(n||(n={},u.set(e,n)),t in n)return n[t];var o=function(e){return"string"===typeof e||"symbol"===typeof t?t===e:e.test(t)},i=Reflect.getOwnPropertyDescriptor(e,t),a=void 0===i||i.writable||i.configurable,s=(r.include?r.include.some(o):!r.exclude.some(o))&&a;return n[t]=s,s}(e,t)||n===Function.prototype[t])return n;var o=a.get(n);if(o)return o;if("function"===typeof n){var c=i(n,r,s,e);return a.set(n,c),c}return n}});return s}},978:function(e,r,t){var n=t(1),o=t(57),i=t(26),u=t(27),a=t(29),s=t(22),c=t(111),f=t(30),l=function(e){"use strict";function r(){var e;return i(this,r),(e=a(this,s(r).call(this))).allResults=[],e}return f(r,e),u(r,[{key:"update",value:function(){var e=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("BaseFilterWithHistory - no update method specified");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addResults",value:function(e){this.allResults=this.allResults.concat(e),c(s(r.prototype),"addResults",this).call(this,e)}},{key:"addInitialResults",value:function(e){this.allResults=this.allResults.concat(e),c(s(r.prototype),"addInitialResults",this).call(this,e)}},{key:"getAllResults",value:function(){return this.allResults}}]),r}(t(276));e.exports=l},979:function(e,r,t){var n=t(1),o=t(57),i=t(26),u=t(27),a=t(29),s=t(22),c=t(30),f=t(276),l=t(277),p=t(155).incrementHexInt,d=function(e){"use strict";function r(e){var t,n=e.provider;e.params;return i(this,r),(t=a(this,s(r).call(this))).type="block",t.provider=n,t}return c(r,e),u(r,[{key:"update",value:function(){var e=o(n.mark((function e(r){var t,o,i,u,a,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.oldBlock,o=r.newBlock,i=o,u=p(t),e.next=5,l({provider:this.provider,fromBlock:u,toBlock:i});case 5:a=e.sent,s=a.map((function(e){return e.hash})),this.addResults(s);case 8:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()}]),r}(f);e.exports=d},980:function(e,r,t){var n=t(1),o=t(81),i=t(57),u=t(26),a=t(27),s=t(29),c=t(22),f=t(30),l=t(276),p=t(277),d=t(155).incrementHexInt,h=function(e){"use strict";function r(e){var t,n=e.provider;return u(this,r),(t=s(this,c(r).call(this))).type="tx",t.provider=n,t}return f(r,e),a(r,[{key:"update",value:function(){var e=i(n.mark((function e(r){var t,i,u,a,s,c,f,l,h,v,m;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.oldBlock,i=t,u=d(t),e.next=5,p({provider:this.provider,fromBlock:u,toBlock:i});case 5:for(a=e.sent,s=[],c=!0,f=!1,l=void 0,e.prev=10,h=a[Symbol.iterator]();!(c=(v=h.next()).done);c=!0)m=v.value,s.push.apply(s,o(m.transactions));e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),f=!0,l=e.t0;case 18:e.prev=18,e.prev=19,c||null==h.return||h.return();case 21:if(e.prev=21,!f){e.next=24;break}throw l;case 24:return e.finish(21);case 25:return e.finish(18);case 26:this.addResults(s);case 27:case"end":return e.stop()}}),e,this,[[10,14,18,26],[19,,21,25]])})));return function(r){return e.apply(this,arguments)}}()}]),r}(l);e.exports=h}}]);
//# sourceMappingURL=2.68dc8550.chunk.js.map